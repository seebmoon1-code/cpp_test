#include <iostream>
#include <string>
#include <locale> // لازم برای مدیریت زبان محلی و UTF-8

// تعریف تابع
void greetUser(std::string userName) {
    std::cout << "سلام، " << userName << "! خوش آمدید." << std::endl;
}

// تابع اصلی (main function) برنامه
int main() {
    // *** تنظیمات ضروری برای UTF-8 در لینوکس ***
    // این دستورات به C++ می‌گویند که از تنظیمات محلی محیط (که در لینوکس UTF-8 است)
    // برای عملیات ورودی و خروجی استفاده کند.
    try {
        // LC_ALL را با locale پیش‌فرض سیستم (معمولاً en_US.UTF-8 یا fa_IR.UTF-8) تنظیم می‌کند
        std::locale::global(std::locale("")); 
        // ایمبیو کردن cout برای استفاده از تنظیمات جدید locale
        std::cout.imbue(std::locale(""));
        // ایمبیو کردن cin برای ورودی درست
        std::cin.imbue(std::locale(""));
    } catch (const std::runtime_error& e) {
        // در صورتی که locale سیستم تنظیم نشده باشد (بعید در لینوکس)
        // می‌توانید یک locale مشخص UTF-8 مانند C.UTF-8 را امتحان کنید
        // std::locale::global(std::locale("C.UTF-8"));
        // std::cout.imbue(std::locale("C.UTF-8"));
        // std::cin.imbue(std::locale("C.UTF-8"));
    }
    // *******************************************
    
    std::string name;

    std::cout << "لطفاً نام خود را وارد کنید: ";
    
    std::getline(std::cin, name);

    greetUser(name);

    return 0;
}
